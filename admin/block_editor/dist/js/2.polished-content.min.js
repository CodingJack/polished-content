(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{67:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(2),o=n.n(a),l=n(7),r=n.n(l),i=n(8),s=n.n(i),p=n(9),u=n.n(p),m=n(10),b=n.n(m),d=n(14),h=n.n(d),v=n(11),f=n.n(v),j=window.GreenSockGlobals={},O=function(){window.GreenSockGlobals=null,window._gsQueue=null,window._gsDefine=null},g=n(1),y=n(4),x=n.n(y),E=n(3);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,c)}return n}n(32),O(),delete g.o.pcxLetterSpacing;var w=function(e,t){j.TweenMax.killAll(!0),t&&j.TweenMax.set(e,{opacity:1,transform:"none","-webkit-filter":"none",filter:"none","clip-path":"none"})},P=function(e,t,n,c,a){if(n){var o="blur(".concat(t.blur,"px) grayscale(").concat(t.grayscale,")");e.style["-webkit-filter"]=o,e.style.filter=o}if("center-center"!==a){for(var l="inset(",r=0;r<4;r++)l+=c[r]?"".concat(t.clip,"% "):"0 ";e.style.clipPath="".concat(l.slice(0,-1),")")}},C=function(e,t,n){w(e,!0);var c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(n,!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n);c.pcxDelay*=.001,c.pcxDuration*=.001,c.pcxEasing=j.EaseLookup.find("".concat(c.pcxEasing,".").concat(c.pcxEaseDirection)),e.style.transformOrigin=c.pcxTransformOrigin.replace("-"," ");for(var a,l,r={},i={delay:c.pcxDelay},s={yoyo:!0,repeat:-1,repeatDelay:.75,delay:.2,ease:c.pcxEasing},p={x:0,y:0,yoyo:!0,repeat:-1,repeatDelay:.75,delay:.2,ease:c.pcxEasing},u=c.pcxClip,m=0,b=Object.entries(g.o);m<b.length;m++){var d=x()(b[m],2),h=d[0],v=d[1],f=v.prop,O=v.times;p[f]=c[h]*O}if(c.pcxPosition!==g.h.pcxPosition){var y=c.pcxPosition.split("-"),C=g.h.pcxPosition.split("-");if(y[0]!==C[0]||y[1]!==C[1]){var S=Object(E.h)(e,t,y[0],y[1],c.pcxStrength);p.x=S.x,p.y=S.y}}c.pcxBlur===g.h.pcxBlur&&c.pcxGrayscale===g.h.pcxGrayscale||(a=!0,s.blur=c.pcxBlur,r.blur=0,s.grayscale=.01*c.pcxGrayscale,r.grayscale=0,i.onUpdateParams=[e,r,a,l,u],i.onUpdate=P),"center-center"!==u&&(l=g.d[u],s.clip=100,r.clip=0,i.onUpdateParams=[e,r,a,l,u],i.onUpdate=P);var D=new j.TimelineMax(i);D.from(e,c.pcxDuration,p),D.from(r,c.pcxDuration,s,0)},S=n(45),D=n.n(S),R=n(46),N=n.n(R),B=n(12),M=n.n(B),I=n(29),L=wp.element.Component,_=wp.compose.withInstanceId,A=wp.components,T=A.Button,F=A.NavigableMenu,G=function(e){var t=e.tabId,n=e.onClick,a=e.children,o=e.selected,l=N()(e,["tabId","onClick","children","selected"]);return Object(c.createElement)(T,D()({role:"tab",tabIndex:o?null:-1,"aria-selected":o,id:t,onClick:n},l),a)},U=_(function(e){function t(){var e;return r()(this,t),(e=u()(this,b()(t).apply(this,arguments))).handleClick=e.handleClick.bind(h()(e)),e.onNavigate=e.onNavigate.bind(h()(e)),e}return f()(t,e),s()(t,[{key:"handleClick",value:function(e){var t=this.props.onSelect;(void 0===t?I.noop:t)(e)}},{key:"onNavigate",value:function(e,t){t.click()}},{key:"render",value:function(){var e=this,t=this.props,n=t.activeClass,a=void 0===n?"is-active":n,l=t.className,r=t.instanceId,i=t.currentTab,s=t.orientation,p=void 0===s?"horizontal":s,u=t.tabs,m=Object(I.find)(u,{name:i}),b=r+"-"+m.name;return Object(c.createElement)("div",{className:l},Object(c.createElement)(F,{role:"tablist",orientation:p,onNavigate:this.onNavigate,className:"components-tab-panel__tabs"},u.map((function(t){return Object(c.createElement)(G,{className:M()(t.className,o()({},a,t.name===i)),tabId:r+"-"+t.name,"aria-controls":r+"-"+t.name+"-view",selected:t.name===i,key:t.name,onClick:Object(I.partial)(e.handleClick,t.name)},t.title)}))),m&&Object(c.createElement)("div",{"aria-labelledby":b,role:"tabpanel",id:b+"-view",className:"components-tab-panel__tab-content",tabIndex:"0"},this.props.children(m)))}}]),t}(L)),z=n(13),W=n(17),X=wp.components,Y=X.ButtonGroup,V=X.Button,q=g.m.pcxPosition,J=function(e){var t=e.prop,n=e.value,a=e.callback;return Object(c.createElement)("div",{className:"".concat(g.j,"-points")},Object(c.createElement)(Y,null,q.map((function(e){return Object(c.createElement)(V,{isSmall:!0,key:e,className:"".concat(g.j,"-position-btn"),isPrimary:n===e,onClick:function(){return a(e,t)}})}))))},Z=n(5),K=wp.i18n.__,Q=wp.components.PanelRow,$=function(e){var t=e.block,n=t.props,a=t.updateProp,o=n.pcxOpacity,l=n.pcxBlur,r=n.pcxGrayscale,i=n.pcxZoom,s=n.pcxStrength,p=n.pcxPosition,u=n.pcxClip,m=n.pcxMask;return Object(c.createElement)(c.Fragment,null,Object(c.createElement)(z.a,{prop:"pcxOpacity",label:K("Opacity","polished-content"),value:o,callback:a}),Object(c.createElement)(z.a,{prop:"pcxBlur",label:K("Blur","polished-content"),value:l,callback:a,max:30,step:1}),Object(c.createElement)(z.a,{prop:"pcxGrayscale",label:K("Grayscale","polished-content"),value:r,callback:a}),Object(c.createElement)(z.a,{prop:"pcxZoom",label:K("Zoom","polished-content"),value:i,callback:a,max:300}),Object(c.createElement)("div",{className:"".concat(g.j,"-positions polished-content-position-first")},Object(c.createElement)(Q,null,Object(c.createElement)(W.a,{prop:"pcxStrength",label:K("Movements","polished-content"),value:s,callback:a,buttons:!0}),Object(c.createElement)(J,{prop:"pcxPosition",value:p,callback:a}))),Object(c.createElement)("div",{className:"".concat(g.j,"-positions")},Object(c.createElement)(Q,null,Object(c.createElement)(W.a,{label:K("Content Wipes","polished-content"),prop:"pcxClip",value:u,callback:a}),Object(c.createElement)(J,{prop:"pcxClip",value:u,callback:a}))),Object(c.createElement)(Z.a,{prop:"pcxMask",label:K("Content Mask","polished-content"),checked:m,callback:a,help:K("Useful for Blur Filter and Movements without 3D Rotations but may impact collapsing margins","polished-content")}))},H=wp.components,ee=H.Button,te=H.Icon,ne=wp.element.useState,ce=function(e){var t=e.prop,n=e.label,a=e.value,o=e.help,l=e.validity,r=e.callback,i=e.defValue,s=e.min,p=void 0===s?0:s,u=e.max,m=void 0===u?100:u,b=e.type,d=void 0===b?"number":b,h=ne(a),v=x()(h,2),f=v[0],j=v[1],O=a===g.h[t];return Object(c.createElement)(c.Fragment,null,Object(c.createElement)("div",{className:"".concat(g.j,"-wrapper ").concat(g.j,"-text-input")},Object(c.createElement)("div",{className:"components-base-control"},Object(c.createElement)("div",{className:"components-base-control__field"},Object(c.createElement)("label",{className:"components-base-control__label",htmlFor:"inspector-select-control-".concat(t)},n),Object(c.createElement)("input",{name:t,className:"components-text-control__input",type:d,"aria-label":n,onChange:function(e){var n=e.target.value;"number"===d&&(n=parseInt(n,10),isNaN(n)&&(n="")),r(n,t)},onFocus:function(e){j(e.target.value)},onBlur:function(e){var n=e.target.value;if("number"===d){var c=parseInt(n,10);(isNaN(c)||c<p||c>m)&&r(f,t)}else"class"!==l||""===n||/^[a-z _-][a-z \d_-]*$/i.test(n)||r(f,t)},value:a})),o&&Object(c.createElement)("p",{className:"components-base-control__help"},o)),"number"===d&&Object(c.createElement)("div",{className:"".concat(g.j,"-small-btns")},Object(c.createElement)(ee,{isSmall:!0,className:"".concat(g.j,"-iconbtn"),disabled:O,onClick:function(){var e=void 0===i?g.h[t]:i;r(e,t)}},Object(c.createElement)(te,{icon:"no-alt",size:"12"})))))},ae=wp.element.useState,oe={text:ce,range:z.a},le=function(e){var t=e.prop,n=e.label,a=e.customLabel,o=e.value,l=e.callback,r=e.custom,i=e.help,s=e.min,p=void 0===s?100:s,u=e.max,m=void 0===u?9999:u,b=e.step,d=void 0===b?1:b,h=e.defValue,v=void 0===h?"1000":h,f=e.component,j=void 0===f?"text":f,O=e.type,y=void 0===O?"number":O,E=oe[j],k=g.m[t].map((function(e){return e.value})),w=-1!==k.indexOf(o)&&o!==r,P=w?o:r,C=ae(w?v:o),S=x()(C,2),D=S[0],R=S[1],N=ae(!w),B=x()(N,2),M=B[0],I=B[1],L=function(e){var n=e.toString();n===r?M||(R(n=D),I(!0)):-1!==k.indexOf(n)?I(!1):R(n),l(n,t)};return Object(c.createElement)(c.Fragment,null,Object(c.createElement)(W.a,{prop:t,label:n,value:P,callback:L,help:M?null:i}),M&&Object(c.createElement)(E,{type:y,prop:t,label:a,value:D,defValue:v,callback:L,min:p,max:m,step:d}))},re=n(6),ie=wp.i18n.__,se=wp.components.PanelRow,pe=function(e){var t,n=e.block,a=n.props,o=n.updateProp,l=a.pcxLetterSpacing,r=a.pcxRotate,i=a.pcxRotateX,s=a.pcxRotateY,p=a.pcxSkewX,u=a.pcxSkewY,m=a.pcxTransformOrigin,b=a.pcxPerspective,d=a.pcxTransformReset;l>0&&(t=ie("Letter Spacing is only compatible with text that would normally always appear on a single line","polished-content"));var h=b.toString().replace("vw",""),v=ie("vw would equal","polished-content"),f=ie("% of the screen's width","polished-content"),j="".concat(h).concat(v," ").concat(h).concat(f);return Object(c.createElement)(c.Fragment,null,Object(c.createElement)(z.a,{prop:"pcxLetterSpacing",label:ie("Letter Spacing","polished-content"),value:l,callback:o,min:0,max:100,step:1,help:t}),Object(c.createElement)(z.a,{prop:"pcxRotate",label:ie("2D Rotation","polished-content"),value:r,callback:o,min:-360,max:360}),Object(c.createElement)(z.a,{prop:"pcxRotateX",label:ie("3D RotationX","polished-content"),value:i,callback:o,min:-360,max:360}),Object(c.createElement)(z.a,{prop:"pcxRotateY",label:ie("3D RotationY","polished-content"),value:s,callback:o,min:-360,max:360}),Object(c.createElement)(z.a,{prop:"pcxSkewX",label:ie("SkewX","polished-content"),value:p,callback:o,min:-180,max:180}),Object(c.createElement)(z.a,{prop:"pcxSkewY",label:ie("SkewY","polished-content"),value:u,callback:o,min:-180,max:180}),Object(c.createElement)("div",{id:"".concat(g.j,"-transform-origin-wrap"),className:"".concat(g.j,"-positions polished-content-position-first")},Object(c.createElement)(se,null,Object(c.createElement)(W.a,{prop:"pcxTransformOrigin",label:ie("Transform Origin","polished-content"),value:m,callback:o}),Object(c.createElement)(J,{prop:"pcxTransformOrigin",value:m,callback:o}))),Object(c.createElement)(le,{prop:"pcxPerspective",label:ie("3D Perspective","polished-content"),customLabel:ie("Custom 3D Perspective","polished-content"),value:b,callback:o,custom:"custom",component:"range",min:200,max:5e3,step:50,help:j}),Object(c.createElement)(le,{prop:"pcxTransformReset",label:ie("Reset Transform Origin at...","polished-content"),customLabel:ie("Transform Origin Reset Width","polished-content"),value:d,callback:o,custom:"custom",component:"text",help:Object(c.createElement)(re.a,{text:ie("Reset transform-origin to center at a certain screen width set in the ","polished-content")})}))},ue=wp.i18n.__,me=wp.components.PanelRow,be=function(e){var t,n=e.block,a=n.props,o=n.updateProp,l=a.pcxReverse,r=a.pcxDuration,i=a.pcxDelay,s=a.pcxDelayReverse,p=a.pcxDelayBreak,u=a.pcxEasing,m=a.pcxEaseDirection,b=a.pcxEaseReverse,d=a.pcxScrollType;return("Back"===u||"Elastic"===u)&&l&&"in"!==d&&(t=ue('This easing function can be visually glitchy when combined with the "Auto Reverse" option',"polished-content")),Object(c.createElement)(c.Fragment,null,Object(c.createElement)(W.a,{prop:"pcxEasing",label:ue("Easing Function","polished-content"),value:u,callback:o,help:t}),Object(c.createElement)(ce,{prop:"pcxDuration",label:ue("Animation Duration (ms)","polished-content"),value:r,callback:o,min:200,max:5e4,step:50}),Object(c.createElement)(W.a,{prop:"pcxEaseDirection",label:ue("Easing Type","polished-content"),value:m,callback:o}),Object(c.createElement)("div",{className:"".concat(g.j,"-spacer")},Object(c.createElement)(me,null,Object(c.createElement)(ce,{prop:"pcxDelay",label:ue("Timing Delay","polished-content"),value:i,callback:o,min:0,max:1e4,step:50}),Object(c.createElement)(ce,{prop:"pcxDelayReverse",label:ue("Reverse Delay","polished-content"),value:s,callback:o,min:0,max:1e4,step:50}))),Object(c.createElement)(le,{prop:"pcxDelayBreak",label:ue("Disable Delays at...","polished-content"),customLabel:ue("Disable Delay Width","polished-content"),value:p,callback:o,component:"text",custom:"custom",help:Object(c.createElement)(re.a,{text:ue("Remove delays at a certain viewport width set in the plugin's","polished-content")})}),"easeInOut"!==m&&Object(c.createElement)(Z.a,{prop:"pcxEaseReverse",label:ue("Reverse Easing","polished-content"),checked:b,callback:o,help:ue("easeOut will become easeIn when animating out and vice versa","polished-content")}))},de=wp.components,he=de.ButtonGroup,ve=de.Button,fe=de.Icon,je=polishedContentGlobals.isRtl,Oe=g.m.pcxAlign,ge=g.m.pcxAlignRtl,ye=je?ge:Oe,xe=function(e){var t=e.prop,n=e.value,a=e.callback;return Object(c.createElement)("div",{className:"".concat(g.j,"-align-btns")},Object(c.createElement)(he,null,ye.map((function(e){return Object(c.createElement)(ve,{key:e,className:"".concat(g.j,"-align-btn is-button is-default"),isPrimary:n===e,onClick:function(){return a(e,t)}},Object(c.createElement)(fe,{icon:"editor-align".concat(e),size:"20"}))}))))},Ee=wp.i18n.__,ke=wp.components,we=ke.TextControl,Pe=ke.ToggleControl,Ce=wp.element.useState,Se=function(e){var t,n,a,o=e.block,l=Ce(!1),r=x()(l,2),i=r[0],s=r[1],p="";if(i){var u=o.props,m={};Object.keys(g.h).forEach((function(e){m[e]=u[e]}));var b=Object(E.f)(m),d=b.classes;t=b.animate?"polished-content".concat(d):"",p=" ".concat(g.j,"-classes-enabled"),n=function(){},a=function(e){e.target.select()}}return Object(c.createElement)(c.Fragment,null,Object(c.createElement)(Pe,{label:Ee("Copy Animation Classes","polished-content"),className:"".concat(g.j,"-toggle-classes").concat(p),checked:i,onChange:function(e){return s(e)},help:Ee("Add these classes to any of your site's page/post content to animate it with the current settings","polished-content")}),i&&Object(c.createElement)(we,{label:"Current Animation Classes",className:"".concat(g.j,"-text-input"),value:t,onChange:n,onFocus:a,onBlur:void 0,help:Object(c.createElement)(re.a,{text:Ee("When adding animation classes to non-Block content the plugin's script can be loaded manually from the ","polished-content")})}))},De=wp.i18n.__,Re=function(e){var t=e.block,n=t.props,a=t.updateProp,o=n.pcxInherit,l=n.pcxAlign,r=n.pcxInline,i=n.pcxFloat,s=n.pcxClass;return Object(c.createElement)(c.Fragment,null,Object(c.createElement)(Z.a,{prop:"pcxInherit",label:De("Inherit Margins","polished-content"),checked:o,callback:a,help:De("Removes margins from the Block allowing the animated wrapper to inherit them instead.","polished-content")}),Object(c.createElement)(Z.a,{prop:"pcxInline",label:De("Animate as Inline Block","polished-content"),checked:r,callback:a,help:De("Useful for Buttons and other content that is not intended to appear full-width.","polished-content")}),r&&Object(c.createElement)(xe,{prop:"pcxAlign",value:l,callback:a}),Object(c.createElement)(W.a,{prop:"pcxFloat",label:De("CSS Float","polished-content"),value:i,callback:a,help:De("Useful if your content is normally meant to display inline","polished-content")}),Object(c.createElement)(ce,{type:"text",validity:"class",prop:"pcxClass",label:De("Wrapper Class","polished-content"),value:s,callback:a,help:De("Add an optional class name to the animation's outer wrapper","polished-content")}),Object(c.createElement)(Se,{block:t}))},Ne=wp.i18n.__,Be=[{slug:"basics",icon:"admin-settings",component:$},{slug:"advanced",icon:"admin-plugins",component:pe},{slug:"timing",icon:"dashboard",component:be},{slug:"formatting",icon:"art",component:Re},{slug:"settings",icon:"admin-generic",component:function(e){var t=e.block,n=t.props,a=t.updateProp,o=n.pcxScrollType,l=n.pcxPercentageIn,r=n.pcxScrollStagger,i=n.pcxPercentageInStagger,s=n.pcxReverse,p=n.pcxDesktop,u=n.pcxLaptop,m=n.pcxTablet,b=n.pcxSmartphone;return Object(c.createElement)(c.Fragment,null,Object(c.createElement)(W.a,{prop:"pcxScrollType",label:Ne("Animate Content","polished-content"),value:o,callback:a}),!r&&Object(c.createElement)(z.a,{prop:"pcxPercentageIn",label:Ne("Percentage In View","polished-content"),value:l,callback:a,max:50,step:1,help:Ne("Animate when inside this percentage of the screen's viewport","polished-content")}),r&&Object(c.createElement)(z.a,{prop:"pcxPercentageInStagger",label:Ne("Stagger % In View","polished-content"),value:i,callback:a,max:25,step:1,help:Ne("Animate when inside this percentage of the screen's viewport","polished-content")}),"in"!==o&&Object(c.createElement)(Z.a,{prop:"pcxReverse",label:Ne("Auto Reverse","polished-content"),className:"".concat(g.j,"-scroll-option"),checked:s,callback:a,help:Ne("Movements, wipes, rotations and skews will be reversed when scrolled up and out of view","polished-content")}),Object(c.createElement)(Z.a,{prop:"pcxScrollStagger",label:Ne("Stagger on Scroll","polished-content"),className:"".concat(g.j,"-scroll-option"),checked:r,callback:a,help:Ne("The block will animate in relation to the page's scroll position","polished-content")}),Object(c.createElement)("div",{className:"".concat(g.j,"-viewports")},Object(c.createElement)("label",{htmlFor:"pcxDesktop"},Ne("Enable/Disable Animation for...","polished-content")),Object(c.createElement)(Z.a,{prop:"pcxDesktop",label:Object(c.createElement)(re.b,{title:Ne("Desktop","polished-content"),index:0}),checked:p,callback:a}),Object(c.createElement)(Z.a,{prop:"pcxLaptop",label:Object(c.createElement)(re.b,{title:Ne("Laptop","polished-content"),index:1}),checked:u,callback:a}),Object(c.createElement)(Z.a,{prop:"pcxTablet",label:Object(c.createElement)(re.b,{title:Ne("Tablet","polished-content"),index:2}),checked:m,callback:a}),Object(c.createElement)(Z.a,{prop:"pcxSmartphone",label:Object(c.createElement)(re.b,{title:Ne("Smartphone","polished-content"),index:3}),checked:b,callback:a,help:Object(c.createElement)(re.a,{text:Ne("Viewport widths can be adjusted from the plugin's","polished-content")})})))}}],Me=function(e){var t=e.block,n=t.currentTab,a=t.updateState;return Object(c.createElement)(U,{className:"".concat(g.j,"-tabs components-button-group"),activeClass:"is-primary",currentTab:"".concat(g.j,"-").concat(n),onSelect:function(e){var t=e.replace("".concat(g.j,"-"),"");a({currentTab:t},(function(){polishedContentGlobals.currentTab=t}))},tabs:Be.map((function(e){return function(e,t){var n=e.slug,a=e.icon,o=e.component;return{name:"".concat(g.j,"-").concat(n),className:"is-button is-default is-small dashicons dashicons-".concat(a),container:Object(c.createElement)("div",{className:"".concat(g.j,"-tab ").concat(g.j,"-").concat(n,"-tab")},Object(c.createElement)(o,{block:t}))}}(e,t)}))},(function(e){return e.container}))},Ie=n(33),Le=n.n(Ie),_e=n(42),Ae=n.n(_e);function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,c)}return n}var Fe=wp.i18n.__,Ge=wp.components,Ue=Ge.Button,ze=Ge.IconButton,We=Ge.Spinner,Xe=wp.element.useState,Ye=polishedContentGlobals.ajaxNonce,Ve=function(e){var t=e.block,n=Xe(!0),a=x()(n,2),l=a[0],r=a[1],i=Xe(""),s=x()(i,2),p=s[0],u=s[1],m=t.state,b=t.updateState,d=m.rcMenuActive;return Object(c.createElement)(c.Fragment,null,Object(c.createElement)("div",{className:"".concat(g.j,"-save-preset")},Object(c.createElement)("div",null,Object(c.createElement)("input",{type:"text",className:"".concat(g.j,"-preset-name"),onChange:function(e){return u(e.target.value)},onKeyUp:function(e){return r(!e.target.value)},placeholder:Fe("Custom Preset Name","polished-content"),ref:function(e){return!d&&e&&e.focus()}}),Object(c.createElement)(Ue,{className:"".concat(g.j,"-save-btn"),isPrimary:!0,disabled:l,onClick:function(){p&&"undefined"!=typeof ajaxurl&&b({ajaxLoading:!0},(function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(n,!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t.props);Object.keys(e).forEach((function(t){void 0!==g.h[t]&&e[t]!==g.h[t]||delete e[t]}));var n=function(){b({ajaxLoading:!1,showSavePresetModal:!1})};Le.a.post(ajaxurl,Ae.a.stringify({action:"polished_content",nonce:Ye,addremove:"add",name:p,settings:JSON.stringify(e)})).then((function(t){"success"===t.data?Object(E.a)(p,e):console.log(t),n()})).catch((function(){console.log(Fe("Polished Content Ajax Request Failed","polished-content")),n()}))}))}},Object(c.createElement)("span",{className:"".concat(g.j,"-save-text")},Fe("Save Preset","polished-content"),Object(c.createElement)(We,null)))),Object(c.createElement)(ze,{className:"".concat(g.j,"-mini-icon"),icon:"no",size:"24",onClick:function(){return b({showSavePresetModal:!1})}})))};function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,c)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(n,!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ze=wp.i18n.__,Ke=wp.components,Qe=Ke.Button,$e=Ke.Icon,He=wp.element.forwardRef,et=polishedContentGlobals.isRtl,tt=He((function(e,t){var n,a,o=e.block,l=o.props,r=o.state,i=o.updateState,s=o.updateFromPreset,p=l.pcxMask,u=l.pcxGrayscale,m=r.selectedPreset,b=r.hideCreatePresetBtn,d=r.showSavePresetModal,h=t.el,v=t.container,f=r.previewIsPlaying,j=g.m.pcxPresets,O=j.map((function(e){return e.value})),y=p?" pcx-has-mask":"",x=f?" is-playing":"",k=parseInt(u,10)>0?" pcx-grayscale":"",w="PcxDefaults"!==m&&!Object(E.m)(Je({},l)),P=d||w;return"1"!==et?(n="left",a="right"):(n="right",a="left"),Object(c.createElement)(c.Fragment,null,Object(c.createElement)("div",{className:"".concat(g.j,"-wrap")},Object(c.createElement)("div",{className:"".concat(g.j,"-preview-wrap"),ref:v},Object(c.createElement)("div",{className:"".concat(g.j,"-preview-container").concat(y).concat(k)},Object(c.createElement)("span",{className:"".concat(g.j,"-preview-el"),ref:h},Object(c.createElement)($e,{icon:"text",size:"72"})),k&&Object(c.createElement)("svg",{className:"".concat(g.j,"-gradient"),xmlns:"http://www.w3.org/2000/svg",width:"72",height:"72",viewBox:"0 0 20 20"},Object(c.createElement)("defs",null,Object(c.createElement)("linearGradient",{id:"".concat(g.j,"-linear"),x1:"0",x2:"0",y1:"0",y2:"1"},Object(c.createElement)("stop",{offset:"0%",stopColor:"#59253a"}),Object(c.createElement)("stop",{offset:"25%",stopColor:"#59253a"}),Object(c.createElement)("stop",{offset:"25%",stopColor:"#895061"}),Object(c.createElement)("stop",{offset:"50%",stopColor:"#895061"}),Object(c.createElement)("stop",{offset:"50%",stopColor:"#0677a1"}),Object(c.createElement)("stop",{offset:"75%",stopColor:"#0677a1"}),Object(c.createElement)("stop",{offset:"75%",stopColor:"#2d4159"}),Object(c.createElement)("stop",{offset:"100%",stopColor:"#2d4159"})))))),d&&Object(c.createElement)(Ve,{block:o})),Object(c.createElement)(Qe,{isSmall:!0,isPrimary:!0,className:"".concat(g.j,"-iconbtn"),onClick:function(){var e=Object(E.j)(j,O,m);s(e)}},Object(c.createElement)($e,{icon:"arrow-".concat(n,"-alt2"),size:"16"})),Object(c.createElement)(Qe,{isSmall:!0,isPrimary:!P,disabled:P,className:"".concat(g.j,"-playpause ").concat(g.j,"-iconbtn ").concat(x),onClick:function(){if("PcxDefaults"!==m)i((function(e){return{previewIsPlaying:!e.previewIsPlaying}}));else{var e=Object(E.j)(j,O,"PcxDefaults",!0);if("PcxCustom"===e){var t=g.m.pcxAnimations,n=Je({},g.h,{},t[e]);Object(E.m)(Je({},n))||(e=Object(E.j)(j,O,e,!0))}s(e)}}},Object(c.createElement)($e,{icon:"controls-play",size:"16"}),Object(c.createElement)($e,{icon:"controls-pause",size:"16"})),Object(c.createElement)(Qe,{isSmall:!0,isPrimary:!0,className:"".concat(g.j,"-iconbtn"),onClick:function(){var e=Object(E.j)(j,O,m,!0);s(e)}},Object(c.createElement)($e,{icon:"arrow-".concat(a,"-alt2"),size:"16"})),Object(c.createElement)(Qe,{isSmall:!0,className:"".concat(g.j,"-create-preset"),onClick:function(){i({previewIsPlaying:!1,showSavePresetModal:!0})},"aria-disabled":b||d}," ",Ze("Create Preset","polished-content")))}));function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,c)}return n}var ct=wp.i18n.__,at=wp.components.IconButton,ot=polishedContentGlobals.ajaxNonce,lt=function(e){var t=e.block,n=t.state,a=t.updateFromPreset,l=n.hideDeleteBtn,r=n.selectedPreset,i={visibility:l?"hidden":"visible"};return Object(c.createElement)(c.Fragment,null,Object(c.createElement)("div",{className:"".concat(g.j,"-presets")},Object(c.createElement)(W.a,{label:"Settings from Preset",prop:"pcxPresets",value:r,callback:a,buttons:!1}),Object(c.createElement)(at,{className:"".concat(g.j,"-delete ").concat(g.j,"-iconbtn is-button is-default is-small"),style:i,icon:"no-alt",onClick:function(){if("undefined"!=typeof ajaxurl&&window.confirm(ct("Delete this Custom Preset Option?","polished-content"))){var e=t.updateState,n=function(){e({ajaxLoading:!1,showSavePresetModal:!1})};e({ajaxLoading:!0},(function(){Le.a.post(ajaxurl,Ae.a.stringify({action:"polished_content",nonce:ot,addremove:"remove",name:r})).then((function(e){if("success"===e.data){var c=t.props;Object(E.l)(r,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(n,!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},c))}else console.log(e);n()})).catch((function(){console.log(ct("Polished Content Ajax Request Failed","polished-content")),n()}))}))}}})))},rt=(0,wp.element.forwardRef)((function(e,t){var n=e.block;return Object(c.createElement)(c.Fragment,null,Object(c.createElement)(tt,{block:n,ref:t}),Object(c.createElement)(lt,{block:n}))})),it=wp.i18n.__,st=wp.components.Button,pt=function(e){var t=e.onClear,n=e.onUndo,a=e.originalSettings;return t||n?Object(c.createElement)("div",{className:"".concat(g.j,"-reset-btns")},t&&Object(c.createElement)(st,{isSmall:!0,onClick:t}," ",it("Reset to Defaults","polished-content")),n&&Object(c.createElement)(st,{isSmall:!0,onClick:function(){n(!1,a)}}," ",it("Undo All Changes","polished-content"))):null};function ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,c)}return n}var mt=wp.element,bt=mt.Component,dt=mt.createRef,ht=function(e,t,n){g.k[e].forEach((function(e){n[e]=t[e]}))},vt=function(e){var t=e.attrs,n=e.hideRightClickMenu,a=e.updateState,l=e.updateBatchProps,r=polishedContentGlobals,i=r.copiedPanel,s=r.copiedSettings,p=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ut(n,!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},g.l);return s||delete p.paste,Object.keys(p).map((function(e,o){var r,s=p[e],u=function(){switch(e){case"all":r={},Object.keys(g.k).forEach((function(e){ht(e,t,r)}));break;case"paste":l(),i&&a({currentTab:i});break;case"disable":return void n(!1,!0);default:ht(e,t,r={})}r&&(polishedContentGlobals.copiedSettings=r,polishedContentGlobals.copiedPanel="all"!==e&&"paste"!==e?e:null),n()};return Object(c.createElement)("div",{role:"button",tabIndex:o,key:"".concat(g.j,"-rc-item-").concat(e),className:"".concat(g.j,"-rc-menu-itm"),onClick:u,onKeyDown:function(e){13===e.which&&u()}},Object(c.createElement)("span",{className:"dashicons dashicons-".concat(s.icon)}),Object(c.createElement)("span",{className:"".concat(g.j,"-rc-menu-text")},s.text))}))},ft=function(e){function t(){var e;return r()(this,t),(e=u()(this,b()(t).apply(this,arguments))).ref=dt(),e}return f()(t,e),s()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.wrap,n=e.rcEvent,c=e.menuBuffer,a=n.clientX,o=n.clientY,l=this.ref.current,r=l.getBoundingClientRect(),i=t.getBoundingClientRect(),s=r.width,p=r.height,u=i.top,m=i.left,b=i.width,d=i.height,h=a-m,v=o-u,f=h+s<b+c?h:h-s,j=v+p<d?v:v-p;f=Math.max(0,f),f=Math.min(f,b-s),j=Math.max(0,j),j=Math.min(j,d-p),l.style.left="".concat(f,"px"),l.style.top="".concat(j,"px"),l.style.visibility="visible"}},{key:"componentWillUnmount",value:function(){this.ref=null}},{key:"render",value:function(){return Object(c.createElement)("div",{className:"".concat(g.j,"-rc-menu"),ref:this.ref},Object(c.createElement)(vt,this.props))}}]),t}(bt);function jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,c)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jt(n,!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gt=wp.element,yt=gt.Component,xt=gt.createRef,Et=wp.i18n.__;n(32),O();var kt=function(e){function t(){var e;r()(this,t);var n=(e=u()(this,b()(t).apply(this,arguments))).props.attributes,c=n.pcxEnabled,a=Object(E.i)(Ot({},n),!0),o=a.selectedPreset;Object(E.d)(c,o);var l=polishedContentGlobals.currentTab;return e.state=Ot({currentTab:l,ajaxLoading:!1,rcMenuActive:!1,previewIsPlaying:!1,showSavePresetModal:!1},a),e.animatedElements={el:xt(),container:xt()},e.settingsRef=xt(),e.updateProp=e.updateProp.bind(h()(e)),e.updateState=e.updateState.bind(h()(e)),e.restoreProperties=e.restoreProperties.bind(h()(e)),e.updateFromPreset=e.updateFromPreset.bind(h()(e)),e.updateBatchProps=e.updateBatchProps.bind(h()(e)),e.onRightClick=e.onRightClick.bind(h()(e)),e.hideRightClickMenu=e.hideRightClickMenu.bind(h()(e)),e.hideClearBtn=!Object(E.c)(Ot({},g.h),Ot({},n)),e.originalSettings=Object(E.g)(Ot({},n)),e}return f()(t,e),s()(t,[{key:"updateState",value:function(e,t){this.setState(e,t)}},{key:"updateProps",value:function(e){var t=this,n=this.props.attributes;Object(E.b)(Ot({},e))&&Object(E.m)(Ot({},n,{},e))?this.setState({bounce:!0,previewIsPlaying:!0},(function(){t.props.setAttributes(Ot({},e))})):this.props.setAttributes(Ot({},e))}},{key:"updateProp",value:function(e,t){"pcxEnabled"===t&&(e?this.addRightClickListener():this.removeAllRcListeners()),this.updateProps(o()({},t,e))}},{key:"updateBatchProps",value:function(){var e=polishedContentGlobals.copiedSettings;this.updateProps(Ot({},e))}},{key:"updateFromPreset",value:function(e){var t=g.m.pcxAnimations,n=Ot({},g.h,{},t[e]);this.updateProps(Ot({},n))}},{key:"restoreProperties",value:function(e,t){var n=t||g.h;this.updateProps(Ot({},n))}},{key:"componentDidUpdate",value:function(e,t){var n=this.animatedElements,c=n.el,a=n.container,o=c.current,l=a.current;if(o&&l){var r=this.state.previewIsPlaying;if(r){var i=this.props.attributes,s=e.attributes,p=r!==t.previewIsPlaying;if(p||(p=Object(E.e)(Ot({},s),Ot({},i))),p)C(o,l,Ot({},g.h,{},i));else Object(E.m)(Ot({},i))||w(o,!0)}else w(o,!0)}}},{key:"shouldComponentUpdate",value:function(e,t){var n=this.props.attributes,c=e.attributes,a=Object(E.k)(Ot({},this.state),Ot({},t)),o=Object(E.k)(Ot({},n),Ot({},c),g.a.slice());return!a||!o}},{key:"hideRightClickMenu",value:function(e,t){if(e)if("contextmenu"===e.type){this.state.rcMenuActive||e.preventDefault()}else{var n="".concat(g.j,"-rc-menu-itm"),c=e.target;if(c.classList.contains(n)||c.closest(".".concat(n)))return}t?this.removeAllRcListeners():this.removeBodyRcListeners(),this.removeBodyRcListeners(),this.setState({rcMenuActive:!1})}},{key:"onRightClick",value:function(e){var t=this,n=e.target;if("input"!==n.tagName.toLowerCase()||"text"!==n.type){var c=this.state,a=c.rcMenuActive;if(c.showSavePresetModal){var o="".concat(g.j,"-save-preset");if(n.classList.contains(o)||n.closest(".".concat(o)))return}if(e.preventDefault(),e.stopImmediatePropagation(),a)return this.removeBodyRcListeners(),void this.setState({rcMenuActive:!1},(function(){t.onRightClick(e)}));document.body.addEventListener("click",this.hideRightClickMenu),document.body.addEventListener("contextmenu",this.hideRightClickMenu),this.setState({rcMenuActive:!0,rcEvent:e})}}},{key:"addRightClickListener",value:function(){var e=this.settingsRef.current;e&&e.addEventListener("contextmenu",this.onRightClick)}},{key:"removeBodyRcListeners",value:function(){document.body.removeEventListener("click",this.hideRightClickMenu),document.body.removeEventListener("contextmenu",this.hideRightClickMenu)}},{key:"removeAllRcListeners",value:function(){this.removeBodyRcListeners();var e=this.settingsRef.current;e&&e.removeEventListener("contextmenu",this.onRightClick)}},{key:"componentDidMount",value:function(){this.props.attributes.pcxEnabled&&this.addRightClickListener()}},{key:"componentWillUnmount",value:function(){j.TweenMax.killAll(!0),this.removeAllRcListeners(),this.settingsRef=null,this.animatedElements=null}},{key:"render",value:function(){var e=this.state,t=this.props,n=this.updateProp,a=this.updateState,o=this.settingsRef,l=this.hideClearBtn,r=this.hideRightClickMenu,i=this.restoreProperties,s=this.updateFromPreset,p=this.animatedElements,u=this.originalSettings,m=this.updateBatchProps,b=e.rcEvent,d=e.currentTab,h=e.rcMenuActive,v=e.ajaxLoading,f=e.selectedPreset,j=t.attributes,O=j.pcxEnabled,y=o.current,x={currentTab:d,updateProp:n,updateState:a,updateFromPreset:s,state:Ot({},e),props:Ot({},g.h,{},j)},k=v?" pcx-ajax-loading":"",w=!l&&"PcxDefaults"!==f&&i,P=!!Object(E.c)(Ot({},u),Ot({},j),Ot({},g.h))&&i;return Object(c.createElement)(c.Fragment,null,Object(c.createElement)("div",{className:"".concat(g.j,"-settings").concat(k),ref:o},Object(c.createElement)(Z.a,{prop:"pcxEnabled",label:Et("Enable/Disable","polished-content"),checked:O,callback:n}),O&&Object(c.createElement)(c.Fragment,null,Object(c.createElement)(rt,{block:x,ref:p}),Object(c.createElement)("hr",null),Object(c.createElement)(Me,{block:x}),Object(c.createElement)(pt,{onClear:w,onUndo:P,originalSettings:Ot({},u)}),h&&y&&Object(c.createElement)(ft,{wrap:y,rcEvent:b,attrs:x.props,menuBuffer:16,hideRightClickMenu:r,updateState:a,updateBatchProps:m}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(t.bounce)return{bounce:!1};var n=e.attributes,c=Object(E.i)(Ot({},n)),a=c.hideCreatePresetBtn,o=t.previewIsPlaying,l=t.showSavePresetModal;o&&(Object(E.m)(Ot({},n))||(c.previewIsPlaying=!1));return l&&a&&(c.showSavePresetModal=!1),Ot({},c)}}]),t}(yt);t.default=function(e){return Object(c.createElement)(kt,e)}}}]);